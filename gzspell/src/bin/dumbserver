#!/usr/bin/env python3

import sys
import logging
import argparse

from gzspell import analysis
from gzspell import server

logger = logging.getLogger(__name__)


def main(*args):

    parser = argparse.ArgumentParser()
    parser.add_argument('--port', type=int, default=9000)
    args = parser.parse_args(args)

    s = server.Server(
        analysis.Spell(analysis.SimpleDatabase(
            [('apple', 0.25), ('banana', 0.25), ('bananas', 0.5)])),
        args.port)
    s.run()

if __name__ == '__main__':
    logging.basicConfig(level=logging.DEBUG)
    main(*sys.argv[1:])

# vim: set ft=python:
